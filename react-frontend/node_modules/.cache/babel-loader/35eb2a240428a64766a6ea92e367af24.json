{"ast":null,"code":"import _defineProperty from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Link}from\"react-router-dom\";import React,{Component}from\"react\";import AuthService from\"../../services/AuthService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignInComponent=/*#__PURE__*/function(_Component){_inherits(SignInComponent,_Component);var _super=_createSuper(SignInComponent);function SignInComponent(props){var _this;_classCallCheck(this,SignInComponent);_this=_super.call(this,props);_this.changeTextHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={username:\"\",password:\"\"};_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));return _this;}//sends username and paassword to check if they are correct stores user in session if it is\n_createClass(SignInComponent,[{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();AuthService.login(this.state.username,this.state.password).then(function(res){sessionStorage.setItem(\"user\",JSON.stringify(res));window.location.reload();_this2.props.history.push(\"/search\");});}//rests state to blank\n},{key:\"resetLogin\",value:function resetLogin(){this.setState({username:\"\",password:\"\"});}//change text is any input\n},{key:\"checkSignIn\",value://checks to see if user is signed  in, if threy are sends them to search\nfunction checkSignIn(){if(sessionStorage.getItem(\"user\")!==null){this.props.history.push(\"/search\");}}},{key:\"render\",value:function render(){this.checkSignIn();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 bg-subtle rounded shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mt-3\",children:\" Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailInput\",className:\"form-label\",children:\"Username(Email):\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",type:\"email\",name:\"username\",className:\"form-control\",value:this.state.username,onChange:this.changeTextHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordInput\",className:\"form-label\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",className:\"form-control\",value:this.state.password,onChange:this.changeTextHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-1\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm btn-personal m-2 col\",onClick:this.handleLogin,disabled:this.state.username.length===0||this.state.password.length===0,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-personal m-2 col\",onClick:this.resetLogin,disabled:this.state.username.length===0&&this.state.password.length===0,children:\"Reset\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-sm btn-personal m-2 col\",children:\"Register\"})]})]})})]})})});}}]);return SignInComponent;}(Component);export default SignInComponent;","map":{"version":3,"sources":["/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/src/components/customer/SignInComponent.js"],"names":["Link","React","Component","AuthService","SignInComponent","props","changeTextHandler","e","setState","target","name","value","state","username","password","handleLogin","bind","preventDefault","login","then","res","sessionStorage","setItem","JSON","stringify","window","location","reload","history","push","getItem","checkSignIn","length","resetLogin"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport React, { Component } from \"react\";\nimport AuthService from \"../../services/AuthService\";\n\nclass SignInComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n  //sends username and paassword to check if they are correct stores user in session if it is\n  handleLogin(e) {\n    e.preventDefault();\n    AuthService.login(this.state.username, this.state.password).then((res) => {\n      sessionStorage.setItem(\"user\", JSON.stringify(res));\n      window.location.reload();\n      this.props.history.push(`/search`);\n    });\n  }\n  //rests state to blank\n  resetLogin() {\n    this.setState({\n      username: \"\",\n      password: \"\",\n    });\n  }\n  //change text is any input\n  changeTextHandler = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  //checks to see if user is signed  in, if threy are sends them to search\n  checkSignIn() {\n    if (sessionStorage.getItem(\"user\") !== null) {\n      this.props.history.push(\"/search\");\n    }\n  }\n\n  render() {\n    this.checkSignIn();\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"card col-md-6 offset-md-3 bg-subtle rounded shadow-lg\">\n            <h3 className=\"text-center mt-3\"> Login</h3>\n            <div className=\"card-body\">\n              <form>\n                <div className=\"mb-2\">\n                  <label htmlFor=\"emailInput\" className=\"form-label\">\n                    Username(Email):\n                  </label>\n                  <input\n                    placeholder=\"Username\"\n                    type=\"email\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    value={this.state.username}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"passwordInput\" className=\"form-label\">\n                    Password:\n                  </label>\n                  <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    value={this.state.password}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                </div>\n                <div className=\"row mt-1\">\n                  {/**buttons disabled when inputs blank */}\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-sm btn-personal m-2 col\"\n                    onClick={this.handleLogin}\n                    disabled={\n                      this.state.username.length === 0 ||\n                      this.state.password.length === 0\n                    }\n                  >\n                    Login\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-personal m-2 col\"\n                    onClick={this.resetLogin}\n                    disabled={\n                      this.state.username.length === 0 &&\n                      this.state.password.length === 0\n                    }\n                  >\n                    Reset\n                  </button>\n                  {/**never disabled */}\n                  <Link\n                    to={\"/register\"}\n                    className=\"btn btn-sm btn-personal m-2 col\"\n                  >\n                    Register\n                  </Link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignInComponent;\n"]},"metadata":{},"sourceType":"module"}