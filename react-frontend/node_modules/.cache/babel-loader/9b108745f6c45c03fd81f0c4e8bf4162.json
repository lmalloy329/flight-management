{"ast":null,"code":"import _defineProperty from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import FlightService from\"../../services/FlightService\";import SelectorComponent from\"../helpers/SelectorComponent\";import AirportService from\"../../services/AirportService\";import AircraftService from\"../../services/AircraftService\";import{CalendarComponent}from\"@syncfusion/ej2-react-calendars\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateFlightComponent=/*#__PURE__*/function(_Component){_inherits(CreateFlightComponent,_Component);var _super=_createSuper(CreateFlightComponent);function CreateFlightComponent(props){var _this;_classCallCheck(this,CreateFlightComponent);_this=_super.call(this,props);_this.changeTextHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={airline:\"\",aircraft:\"\",airports:[],aircrafts:[],originAirport:\"\",destinationAirport:\"\",departureDate:new Date()};_this.changeTextHandler=_this.changeTextHandler.bind(_assertThisInitialized(_this));_this.saveFlight=_this.saveFlight.bind(_assertThisInitialized(_this));_this.handleSelectChange=_this.handleSelectChange.bind(_assertThisInitialized(_this));_this.handleSelectChange=_this.handleSelectChange.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateFlightComponent,[{key:\"compare\",value:function compare(a,b){if(a.airportLocation<b.airportLocation){return-1;}if(a.airportLocation>b.airportLocation){return 1;}return 0;}},{key:\"handleCalenderChange\",value:function handleCalenderChange(e){localStorage.setItem(e.target.id,e.value);this.setState(_defineProperty({},e.target.id,e.value));}//generic shange text for all inputs handler\n},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;AirportService.getAirports().then(function(res){_this2.setState({airports:res.data.sort(_this2.compare)});});AircraftService.getAircrafts().then(function(res){_this2.setState({aircrafts:res.data});});}},{key:\"saveFlight\",value:function saveFlight(event){var _this3=this;event.preventDefault();console.log(this.state);var flight={airline:this.state.airline,originAirport:this.state.originAirport,destinationAirport:this.state.destinationAirport,aircraftCode:this.state.aircraft,departureDate:this.state.departureDate};console.log(flight);FlightService.createFlight(flight).then(function(){_this3.props.history.push(\"/flights\");});}},{key:\"handleSelectChange\",value:function handleSelectChange(selectedValue,location){this.setState(_defineProperty({},location,selectedValue));}},{key:\"render\",value:function render(){var _this$state=this.state,airports=_this$state.airports,aircrafts=_this$state.aircrafts;console.log(aircrafts);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card m-5 p-5 bg-subtle shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"New Flight\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Airline:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Airline\",name:\"airline\",className:\"form-control\",value:this.state.airline,onChange:this.changeTextHandler}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Origin:\"}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination:\"}),\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(SelectorComponent,{size:\"col-6 mt-2 mb-2\",arrayOfData:airports,location:\"originAirport\",onSelectChange:this.handleSelectChange}),/*#__PURE__*/_jsx(SelectorComponent,{size:\"col-6 mt-2 mb-2\",arrayOfData:airports,location:\"destinationAirport\",onSelectChange:this.handleSelectChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Aircraft:\"}),\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(SelectorComponent,{size:\"col-6 mt-2 mb-2\",arrayOfData:aircrafts,location:\"aircraft\",onSelectChange:this.handleSelectChange}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"col m-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Departure Date:\"}),\" \"]}),\" \",/*#__PURE__*/_jsx(CalendarComponent,{className:\"col m-2\",id:\"departureDate\",min:new Date(),start:\"Year\",onChange:this.handleCalenderChange})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.saveFlight,children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-danger\",style:{marginLeft:\"10px\"},to:\"/flights\",children:\"Cancel\"})]})})]})});}}]);return CreateFlightComponent;}(Component);export default CreateFlightComponent;","map":{"version":3,"sources":["/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/src/components/flight/CreateFlightComponent.js"],"names":["React","Component","Link","FlightService","SelectorComponent","AirportService","AircraftService","CalendarComponent","CreateFlightComponent","props","changeTextHandler","e","setState","target","name","value","state","airline","aircraft","airports","aircrafts","originAirport","destinationAirport","departureDate","Date","bind","saveFlight","handleSelectChange","a","b","airportLocation","localStorage","setItem","id","getAirports","then","res","data","sort","compare","getAircrafts","event","preventDefault","console","log","flight","aircraftCode","createFlight","history","push","selectedValue","location","handleCalenderChange","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport FlightService from \"../../services/FlightService\";\nimport SelectorComponent from \"../helpers/SelectorComponent\";\nimport AirportService from \"../../services/AirportService\";\nimport AircraftService from \"../../services/AircraftService\";\nimport { CalendarComponent } from \"@syncfusion/ej2-react-calendars\";\n\nclass CreateFlightComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      airline: \"\",\n      aircraft: \"\",\n      airports: [],\n      aircrafts: [],\n      originAirport: \"\",\n      destinationAirport: \"\",\n      departureDate: new Date(),\n    };\n    this.changeTextHandler = this.changeTextHandler.bind(this);\n    this.saveFlight = this.saveFlight.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n  compare(a, b) {\n    if (a.airportLocation < b.airportLocation) {\n      return -1;\n    }\n    if (a.airportLocation > b.airportLocation) {\n      return 1;\n    }\n    return 0;\n  }\n  handleCalenderChange(e) {\n    localStorage.setItem(e.target.id, e.value);\n\n    this.setState({\n      [e.target.id]: e.value,\n    });\n  }\n  //generic shange text for all inputs handler\n  componentDidMount() {\n    AirportService.getAirports().then((res) => {\n      this.setState({\n        airports: res.data.sort(this.compare),\n      });\n    });\n    AircraftService.getAircrafts().then((res) => {\n      this.setState({ aircrafts: res.data });\n    });\n  }\n  changeTextHandler = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  saveFlight(event) {\n    event.preventDefault();\n    console.log(this.state);\n    let flight = {\n      airline: this.state.airline,\n      originAirport: this.state.originAirport,\n      destinationAirport: this.state.destinationAirport,\n      aircraftCode: this.state.aircraft,\n      departureDate: this.state.departureDate,\n    };\n    console.log(flight);\n    FlightService.createFlight(flight).then(() => {\n      this.props.history.push(\"/flights\");\n    });\n  }\n\n  handleSelectChange(selectedValue, location) {\n    this.setState({\n      [location]: selectedValue,\n    });\n  }\n  render() {\n    let { airports, aircrafts } = this.state;\n    console.log(aircrafts);\n    return (\n      <div className=\"container\">\n        <div className=\"card card m-5 p-5 bg-subtle shadow-lg\">\n          <h3 className=\"text-center\">New Flight</h3>\n          <div className=\"card-body\">\n            <form>\n              <div className=\"form-group\">\n                <label>Airline:</label>\n                <input\n                  placeholder=\"Airline\"\n                  name=\"airline\"\n                  className=\"form-control\"\n                  value={this.state.airline}\n                  onChange={this.changeTextHandler}\n                ></input>\n                <div className=\"row\">\n                  <div className=\"col-6\">\n                    <label>Origin:</label>{\" \"}\n                  </div>{\" \"}\n                  <div className=\"col-6\">\n                    <label>Destination:</label>{\" \"}\n                  </div>{\" \"}\n                </div>\n                <div className=\"row\">\n                  <SelectorComponent\n                    size={\"col-6 mt-2 mb-2\"}\n                    arrayOfData={airports}\n                    location={\"originAirport\"}\n                    onSelectChange={this.handleSelectChange}\n                  />\n\n                  <SelectorComponent\n                    size={\"col-6 mt-2 mb-2\"}\n                    arrayOfData={airports}\n                    location={\"destinationAirport\"}\n                    onSelectChange={this.handleSelectChange}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-6\">\n                    <label>Aircraft:</label>{\" \"}\n                  </div>{\" \"}\n                </div>\n                <div className=\"row\">\n                  <SelectorComponent\n                    size={\"col-6 mt-2 mb-2\"}\n                    arrayOfData={aircrafts}\n                    location={\"aircraft\"}\n                    onSelectChange={this.handleSelectChange}\n                  />{\" \"}\n                  <div className=\"col m-2\">\n                    <label>Departure Date:</label>{\" \"}\n                  </div>{\" \"}\n                  <CalendarComponent\n                    className=\"col m-2\"\n                    id=\"departureDate\"\n                    min={new Date()}\n                    start=\"Year\"\n                    onChange={this.handleCalenderChange}\n                  />\n                </div>\n              </div>\n              <button className=\"btn btn-success\" onClick={this.saveFlight}>\n                Submit\n              </button>\n              <Link\n                className=\"btn btn-danger\"\n                style={{ marginLeft: \"10px\" }}\n                to=\"/flights\"\n              >\n                Cancel\n              </Link>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateFlightComponent;\n"]},"metadata":{},"sourceType":"module"}