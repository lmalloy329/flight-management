{"ast":null,"code":"import _defineProperty from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import FlightService from\"../../services/FlightService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateFlightComponent=/*#__PURE__*/function(_Component){_inherits(UpdateFlightComponent,_Component);var _super=_createSuper(UpdateFlightComponent);function UpdateFlightComponent(props){var _this;_classCallCheck(this,UpdateFlightComponent);_this=_super.call(this,props);_this.changeTextHandler=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={id:_this.props.match.params.id||0,airline:\"\",origin:\"\",destination:\"\",aircraft:\"\"};_this.changeTextHandler=_this.changeTextHandler.bind(_assertThisInitialized(_this));_this.updateFlight=_this.updateFlight.bind(_assertThisInitialized(_this));return _this;}//gets flight by flight id then sets state to that information\n_createClass(UpdateFlightComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;FlightService.getFlightById(this.state.id).then(function(res){var flight=res.data;_this2.setState({airline:flight.airline||\"\",origin:flight.origin||\"\",destination:flight.destination||\"\",aircraft:flight.aircraft||\"\"});});}//deneric texgt input changer\n},{key:\"updateFlight\",value://submits updated information too backend then pushes list of all flights\nfunction updateFlight(event){var _this3=this;event.preventDefault();var flight={airline:this.state.airline,origin:this.state.origin,destination:this.state.destination,aircraft:this.state.aircraft};FlightService.updateFlight(flight,this.state.id).then(function(){_this3.props.history.push(\"/flights\");});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"New Flight\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Airline:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Airline\",name:\"airline\",className:\"form-control\",value:this.state.airline,onChange:this.changeTextHandler}),/*#__PURE__*/_jsx(\"label\",{children:\"Origin:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Origin\",name:\"origin\",className:\"form-control\",value:this.state.origin,onChange:this.changeTextHandler}),/*#__PURE__*/_jsx(\"label\",{children:\"Destination:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Destination\",name:\"destination\",className:\"form-control\",value:this.state.destination,onChange:this.changeTextHandler}),/*#__PURE__*/_jsx(\"label\",{children:\"Aircraft:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Aircraft\",name:\"aircraft\",className:\"form-control\",value:this.state.aircraft,onChange:this.changeTextHandler})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.updateFlight,children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-danger\",style:{marginLeft:\"10px\"},to:\"/flights\",children:\"Cancel\"})]})})]})})});}}]);return UpdateFlightComponent;}(Component);export default UpdateFlightComponent;","map":{"version":3,"sources":["/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/src/components/flight/UpdateFlightComponent.js"],"names":["React","Component","Link","FlightService","UpdateFlightComponent","props","changeTextHandler","e","setState","target","name","value","state","id","match","params","airline","origin","destination","aircraft","bind","updateFlight","getFlightById","then","res","flight","data","event","preventDefault","history","push","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport FlightService from \"../../services/FlightService\";\n\nclass UpdateFlightComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.match.params.id || 0,\n      airline: \"\",\n      origin: \"\",\n      destination: \"\",\n      aircraft: \"\",\n    };\n    this.changeTextHandler = this.changeTextHandler.bind(this);\n    this.updateFlight = this.updateFlight.bind(this);\n  }\n  //gets flight by flight id then sets state to that information\n  componentDidMount() {\n    FlightService.getFlightById(this.state.id).then((res) => {\n      let flight = res.data;\n      this.setState({\n        airline: flight.airline || \"\",\n        origin: flight.origin || \"\",\n        destination: flight.destination || \"\",\n        aircraft: flight.aircraft || \"\",\n      });\n    });\n  }\n  //deneric texgt input changer\n  changeTextHandler = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  //submits updated information too backend then pushes list of all flights\n  updateFlight(event) {\n    event.preventDefault();\n\n    let flight = {\n      airline: this.state.airline,\n      origin: this.state.origin,\n      destination: this.state.destination,\n      aircraft: this.state.aircraft,\n    };\n    FlightService.updateFlight(flight, this.state.id).then(() => {\n      this.props.history.push(\"/flights\");\n    });\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"card col-md-6 offset-md-3 offset-md-3\">\n            <h3 className=\"text-center\">New Flight</h3>\n            <div className=\"card-body\">\n              <form>\n                <div className=\"form-group\">\n                  <label>Airline:</label>\n                  <input\n                    placeholder=\"Airline\"\n                    name=\"airline\"\n                    className=\"form-control\"\n                    value={this.state.airline}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                  <label>Origin:</label>\n                  <input\n                    placeholder=\"Origin\"\n                    name=\"origin\"\n                    className=\"form-control\"\n                    value={this.state.origin}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                  <label>Destination:</label>\n                  <input\n                    placeholder=\"Destination\"\n                    name=\"destination\"\n                    className=\"form-control\"\n                    value={this.state.destination}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                  <label>Aircraft:</label>\n                  <input\n                    placeholder=\"Aircraft\"\n                    name=\"aircraft\"\n                    className=\"form-control\"\n                    value={this.state.aircraft}\n                    onChange={this.changeTextHandler}\n                  ></input>\n                </div>\n                {/**should add confirmation notifcation */}\n                <button className=\"btn btn-success\" onClick={this.updateFlight}>\n                  Submit\n                </button>\n\n                <Link\n                  className=\"btn btn-danger\"\n                  style={{ marginLeft: \"10px\" }}\n                  to=\"/flights\"\n                >\n                  Cancel\n                </Link>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UpdateFlightComponent;\n"]},"metadata":{},"sourceType":"module"}