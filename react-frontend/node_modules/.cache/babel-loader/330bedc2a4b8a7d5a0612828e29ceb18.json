{"ast":null,"code":"import _classCallCheck from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import\"../App.css\";import AuthService from\"../services/AuthService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavbarComponent=/*#__PURE__*/function(_Component){_inherits(NavbarComponent,_Component);var _super=_createSuper(NavbarComponent);function NavbarComponent(){var _this;_classCallCheck(this,NavbarComponent);_this=_super.call(this);_this.state={user:\"\"};return _this;}//logout function that uses AuthService to log out user and then wipes the Session, calls reload to re-render\n_createClass(NavbarComponent,[{key:\"logOut\",value:function logOut(e){e.preventDefault();AuthService.logout();window.sessionStorage.clear();window.location.reload();}},{key:\"render\",value:function render(){var user;//if user is in session parses user into object so we can have link to profile at userId\nif(sessionStorage.getItem(\"user\")){user=JSON.parse(sessionStorage.getItem(\"user\"));}console.log(user);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-md navbar-dark bg-personal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"navbar-brand mb-0 h1\",children:\"Fleeting Flights\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav flex-row\",children:/**ternary that checks if user is logged in. if logged in provides profile and logout options if not logged in provides sign in option */sessionStorage.getItem(\"user\")?/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav flex-row\",children:[user.roles[0].name===\"ROLE_EMPLOYEE\"?/*#__PURE__*/_jsx(Link,{className:\"nav-link me-3\",to:\"/employee-tools\",children:\"Tools\"}):null,/*#__PURE__*/_jsxs(Link,{className:\"nav-link\",to:\"view-customer/\".concat(user.id),children:[\" \",\"Profile\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm col\",onClick:this.logOut,children:\"Log Out\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"nav-link text-right\",children:\"Sign In\"})})})]})})})});}}]);return NavbarComponent;}(Component);export default NavbarComponent;","map":{"version":3,"sources":["/Users/lmalloy329/Desktop/Flight Management Project/react-frontend/src/components/NavbarComponent.js"],"names":["React","Component","Link","AuthService","NavbarComponent","state","user","e","preventDefault","logout","window","sessionStorage","clear","location","reload","getItem","JSON","parse","console","log","roles","name","id","logOut"],"mappings":"glBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,YAAP,CAEA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,C,2FAEMC,CAAAA,e,kHACJ,0BAAc,iDACZ,wBACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAAb,CAFY,aAKb,CACD;kDACA,gBAAOC,CAAP,CAAU,CACRA,CAAC,CAACC,cAAF,GACAL,WAAW,CAACM,MAAZ,GACAC,MAAM,CAACC,cAAP,CAAsBC,KAAtB,GACAF,MAAM,CAACG,QAAP,CAAgBC,MAAhB,GACD,C,sBAED,iBAAS,CACP,GAAIR,CAAAA,IAAJ,CACA;AACA,GAAIK,cAAc,CAACI,OAAf,CAAuB,MAAvB,CAAJ,CAAoC,CAClCT,IAAI,CAAGU,IAAI,CAACC,KAAL,CAAWN,cAAc,CAACI,OAAf,CAAuB,MAAvB,CAAX,CAAP,CACD,CACDG,OAAO,CAACC,GAAR,CAAYb,IAAZ,EACA,mBACE,kCACE,qCACE,YAAK,SAAS,CAAC,iDAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,UAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,sBAAtB,8BADF,cAIE,YAAK,SAAS,CAAC,qBAAf,UAEI,yIACAK,cAAc,CAACI,OAAf,CAAuB,MAAvB,eACE,YAAI,SAAS,CAAC,qBAAd,WACGT,IAAI,CAACc,KAAL,CAAW,CAAX,EAAcC,IAAd,GAAuB,eAAvB,cACC,KAAC,IAAD,EAAM,SAAS,CAAC,eAAhB,CAAgC,EAAE,kBAAlC,mBADD,CAIG,IALN,cAOE,MAAC,IAAD,EACE,SAAS,CAAC,UADZ,CAEE,EAAE,yBAAmBf,IAAI,CAACgB,EAAxB,CAFJ,WAIoD,GAJpD,aAPF,cAcE,eACE,SAAS,CAAC,8BADZ,CAEE,OAAO,CAAE,KAAKC,MAFhB,qBAdF,GADF,cAuBE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAE,UAAV,CAAsB,SAAS,CAAC,qBAAhC,qBADF,EA1BN,EAJF,GADF,EADF,EADF,EADF,CA+CD,C,6BArE2BtB,S,EAwE9B,cAAeG,CAAAA,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../App.css\";\n\nimport AuthService from \"../services/AuthService\";\n\nclass NavbarComponent extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: \"\",\n    };\n  }\n  //logout function that uses AuthService to log out user and then wipes the Session, calls reload to re-render\n  logOut(e) {\n    e.preventDefault();\n    AuthService.logout();\n    window.sessionStorage.clear();\n    window.location.reload();\n  }\n\n  render() {\n    let user;\n    //if user is in session parses user into object so we can have link to profile at userId\n    if (sessionStorage.getItem(\"user\")) {\n      user = JSON.parse(sessionStorage.getItem(\"user\"));\n    }\n    console.log(user);\n    return (\n      <div>\n        <header>\n          <nav className=\"navbar navbar-expand-md navbar-dark bg-personal\">\n            <div className=\"container\">\n              <a href=\"/\" className=\"navbar-brand mb-0 h1\">\n                Fleeting Flights\n              </a>\n              <div className=\"navbar-nav flex-row\">\n                {\n                  /**ternary that checks if user is logged in. if logged in provides profile and logout options if not logged in provides sign in option */\n                  sessionStorage.getItem(\"user\") ? (\n                    <ul className=\"navbar-nav flex-row\">\n                      {user.roles[0].name === \"ROLE_EMPLOYEE\" ? (\n                        <Link className=\"nav-link me-3\" to={`/employee-tools`}>\n                          Tools\n                        </Link>\n                      ) : null}\n                      {/** link that uses the user id parsed from session to navigste to profile */}\n                      <Link\n                        className=\"nav-link\"\n                        to={`view-customer/${user.id}`}\n                      >\n                        {/* <img src=\"/open-iconic/svg/person.svg\" /> */}{\" \"}\n                        Profile\n                      </Link>\n                      <button\n                        className=\"btn btn-secondary btn-sm col\"\n                        onClick={this.logOut}\n                      >\n                        Log Out\n                      </button>\n                    </ul>\n                  ) : (\n                    <div className=\"navbar-nav\">\n                      <Link to={\"/sign-in\"} className=\"nav-link text-right\">\n                        Sign In\n                      </Link>\n                    </div>\n                  )\n                }\n              </div>\n            </div>\n          </nav>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default NavbarComponent;\n"]},"metadata":{},"sourceType":"module"}